{"ast":null,"code":"var _jsxFileName = \"/home/johanna/InsureDisruption/Frontend/insuredisrupt/src/pages/Owner.js\";\nimport React, { Component } from \"react\";\nimport Web3 from \"web3\";\nimport { CONTRACT_ADDRESS, ABI } from \"../config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Owner extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      account: \"default\",\n      successMsg: \"\",\n      availableEth: \"\",\n      volcanoContract: null\n    };\n  }\n\n  componentDidMount() {\n    this.loadBlockchainData(); //this.handleChangeUserInput = this.handleChangeUserInput.bind(this);\n    //this.handleBuyPolicy = this.handleBuyPolicy.bind(this);\n  }\n\n  async loadBlockchainData() {\n    const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\n    const network = await web3.eth.net.getNetworkType();\n    await window.ethereum.enable(); //Fetch account data:\n\n    const accountFromMetaMask = await web3.eth.getAccounts();\n    this.setState({\n      account: accountFromMetaMask\n    });\n    console.log(this.state.account[0], \"CONTRact address\"); //Load the smart contract\n\n    const volcanoContract = new web3.eth.Contract(ABI, CONTRACT_ADDRESS);\n    this.setState({\n      volcanoContract: volcanoContract\n    });\n    console.log(this.state.volcanoContract, \"CONTRAACT\"); //GET inital values\n\n    let availableEth = await volcanoContract.methods.OpenETHtoInsure().call();\n    this.setState({\n      getAvailableEth: availableEth\n    });\n    console.log(this.state.getAvailableEthToInsure, \"avail eth:\"); ///----Event will automatically read data\n    //this.eventListener(volcanoContract);\n  }\n\n  handleChangeUserInput(event) {\n    let value = event.target.value;\n    let name = event.target.dataset.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App-background\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"center-container-buy \",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: \"Owner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          class: \"form-container-buy\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"available-eth-container owner\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              style: {\n                textAlign: \"center\"\n              },\n              className: \"v-txt\",\n              children: \"get: openETHtoInsure:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              style: {\n                textAlign: \"center\"\n              },\n              className: \"v-txt\",\n              children: this.state.getAvailableEth\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            class: \"btn btn-dark-fund-contract\",\n            onClick: this.handleBuyPolicy,\n            children: \"Fund Contract\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              class: \"btn btn-dark-not-connected\",\n              onClick: this.handleBuyPolicy,\n              children: \"Claim 1 ETH not connected to a policy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"get: accountsInsured\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container policyaddress\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"label-input-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"long\",\n                children: \"POLICY ADDRESS\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"long\",\n                placeholder: \"Policy Address . . .\",\n                onChange: this.handleChangeUserInput,\n                value: \"\",\n                \"data-name\": \"long\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              class: \"btn btn-dark-policy-data\",\n              onClick: this.handleBuyPolicy,\n              children: \"Get Policy Data\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"get: policies policyData\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              class: \"btn btn-dark-expired-policy\",\n              onClick: this.handleBuyPolicy,\n              children: \"Claim 1 ETH from expired policy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              class: \"btn btn-dark-self-destruct\",\n              onClick: this.handleBuyPolicy,\n              children: \"Claim all ETH from a self-destruct attack\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default Owner;","map":{"version":3,"sources":["/home/johanna/InsureDisruption/Frontend/insuredisrupt/src/pages/Owner.js"],"names":["React","Component","Web3","CONTRACT_ADDRESS","ABI","Owner","constructor","props","state","account","successMsg","availableEth","volcanoContract","componentDidMount","loadBlockchainData","web3","givenProvider","network","eth","net","getNetworkType","window","ethereum","enable","accountFromMetaMask","getAccounts","setState","console","log","Contract","methods","OpenETHtoInsure","call","getAvailableEth","getAvailableEthToInsure","handleChangeUserInput","event","value","target","name","dataset","render","textAlign","handleBuyPolicy"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,gBAAT,EAA2BC,GAA3B,QAAsC,WAAtC;;;AACA,MAAMC,KAAN,SAAoBJ,SAApB,CAA8B;AAC7BK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACZC,MAAAA,OAAO,EAAE,SADG;AAEZC,MAAAA,UAAU,EAAE,EAFA;AAGZC,MAAAA,YAAY,EAAE,EAHF;AAIZC,MAAAA,eAAe,EAAE;AAJL,KAAb;AAMA;;AACDC,EAAAA,iBAAiB,GAAG;AACnB,SAAKC,kBAAL,GADmB,CAEnB;AACA;AACA;;AAEuB,QAAlBA,kBAAkB,GAAG;AAC1B,UAAMC,IAAI,GAAG,IAAIb,IAAJ,CAASA,IAAI,CAACc,aAAL,IAAsB,uBAA/B,CAAb;AACA,UAAMC,OAAO,GAAG,MAAMF,IAAI,CAACG,GAAL,CAASC,GAAT,CAAaC,cAAb,EAAtB;AACA,UAAMC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAAN,CAH0B,CAI1B;;AACA,UAAMC,mBAAmB,GAAG,MAAMT,IAAI,CAACG,GAAL,CAASO,WAAT,EAAlC;AACA,SAAKC,QAAL,CAAc;AAAEjB,MAAAA,OAAO,EAAEe;AAAX,KAAd;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWC,OAAX,CAAmB,CAAnB,CAAZ,EAAmC,kBAAnC,EAP0B,CAQ1B;;AACA,UAAMG,eAAe,GAAG,IAAIG,IAAI,CAACG,GAAL,CAASW,QAAb,CAAsBzB,GAAtB,EAA2BD,gBAA3B,CAAxB;AACA,SAAKuB,QAAL,CAAc;AAAEd,MAAAA,eAAe,EAAEA;AAAnB,KAAd;AACAe,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWI,eAAvB,EAAwC,WAAxC,EAX0B,CAa1B;;AACA,QAAID,YAAY,GAAG,MAAMC,eAAe,CAACkB,OAAhB,CACvBC,eADuB,GAEvBC,IAFuB,EAAzB;AAGA,SAAKN,QAAL,CAAc;AAAEO,MAAAA,eAAe,EAAEtB;AAAnB,KAAd;AACAgB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAW0B,uBAAvB,EAAgD,YAAhD,EAlB0B,CAoB1B;AACA;AACA;;AAEDC,EAAAA,qBAAqB,CAACC,KAAD,EAAQ;AAC5B,QAAIC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAaD,KAAzB;AACA,QAAIE,IAAI,GAAGH,KAAK,CAACE,MAAN,CAAaE,OAAb,CAAqBD,IAAhC;AACA,SAAKb,QAAL,CAAc;AAAE,OAACa,IAAD,GAAQF;AAAV,KAAd;AACA;;AAEDI,EAAAA,MAAM,GAAG;AACR,wBACC;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA,6BACC;AAAK,QAAA,SAAS,EAAC,uBAAf;AAAA,gCACC;AAAI,UAAA,KAAK,EAAE;AAAEC,YAAAA,SAAS,EAAE;AAAb,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,eAGC;AAAM,UAAA,KAAK,EAAC,oBAAZ;AAAA,kCACC;AAAK,YAAA,KAAK,EAAC,+BAAX;AAAA,oCACC;AACC,cAAA,KAAK,EAAE;AAAEA,gBAAAA,SAAS,EAAE;AAAb,eADR;AAEC,cAAA,SAAS,EAAC,OAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADD,eAOC;AACC,cAAA,KAAK,EAAE;AAAEA,gBAAAA,SAAS,EAAE;AAAb,eADR;AAEC,cAAA,SAAS,EAAC,OAFX;AAAA,wBAIE,KAAKlC,KAAL,CAAWyB;AAJb;AAAA;AAAA;AAAA;AAAA,oBAPD;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAeC;AAAA;AAAA;AAAA;AAAA,kBAfD,eAiBC;AACC,YAAA,IAAI,EAAC,QADN;AAEC,YAAA,KAAK,EAAC,4BAFP;AAGC,YAAA,OAAO,EAAE,KAAKU,eAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAjBD,eAwBC;AAAA,mCACC;AACC,cAAA,IAAI,EAAC,QADN;AAEC,cAAA,KAAK,EAAC,4BAFP;AAGC,cAAA,OAAO,EAAE,KAAKA,eAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBAxBD,eAiCC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAjCD,eAmCC;AAAK,YAAA,SAAS,EAAC,yBAAf;AAAA,mCACC;AAAK,cAAA,KAAK,EAAC,uBAAX;AAAA,sCACC;AAAO,gBAAA,GAAG,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,eAEC;AACC,gBAAA,IAAI,EAAC,MADN;AAEC,gBAAA,IAAI,EAAC,MAFN;AAGC,gBAAA,WAAW,EAAC,sBAHb;AAIC,gBAAA,QAAQ,EAAE,KAAKR,qBAJhB;AAKC,gBAAA,KAAK,EAAC,EALP;AAMC,6BAAU;AANX;AAAA;AAAA;AAAA;AAAA,sBAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBAnCD,eAgDC;AAAA,oCACC;AACC,cAAA,IAAI,EAAC,QADN;AAEC,cAAA,KAAK,EAAC,0BAFP;AAGC,cAAA,OAAO,EAAE,KAAKQ,eAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADD,eASC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBATD;AAAA;AAAA;AAAA;AAAA;AAAA,kBAhDD,eA2DC;AAAA,mCACC;AACC,cAAA,IAAI,EAAC,QADN;AAEC,cAAA,KAAK,EAAC,6BAFP;AAGC,cAAA,OAAO,EAAE,KAAKA,eAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBA3DD,eAoEC;AAAA;AAAA;AAAA;AAAA,kBApED,eAqEC;AAAA,mCACC;AACC,cAAA,IAAI,EAAC,QADN;AAEC,cAAA,KAAK,EAAC,4BAFP;AAGC,cAAA,OAAO,EAAE,KAAKA,eAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBArED;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YADD;AAuFA;;AAtI4B;;AAyI9B,eAAetC,KAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Web3 from \"web3\";\nimport { CONTRACT_ADDRESS, ABI } from \"../config\";\nclass Owner extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\taccount: \"default\",\n\t\t\tsuccessMsg: \"\",\n\t\t\tavailableEth: \"\",\n\t\t\tvolcanoContract: null,\n\t\t};\n\t}\n\tcomponentDidMount() {\n\t\tthis.loadBlockchainData();\n\t\t//this.handleChangeUserInput = this.handleChangeUserInput.bind(this);\n\t\t//this.handleBuyPolicy = this.handleBuyPolicy.bind(this);\n\t}\n\n\tasync loadBlockchainData() {\n\t\tconst web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\n\t\tconst network = await web3.eth.net.getNetworkType();\n\t\tawait window.ethereum.enable();\n\t\t//Fetch account data:\n\t\tconst accountFromMetaMask = await web3.eth.getAccounts();\n\t\tthis.setState({ account: accountFromMetaMask });\n\t\tconsole.log(this.state.account[0], \"CONTRact address\");\n\t\t//Load the smart contract\n\t\tconst volcanoContract = new web3.eth.Contract(ABI, CONTRACT_ADDRESS);\n\t\tthis.setState({ volcanoContract: volcanoContract });\n\t\tconsole.log(this.state.volcanoContract, \"CONTRAACT\");\n\n\t\t//GET inital values\n\t\tlet availableEth = await volcanoContract.methods\n\t\t\t.OpenETHtoInsure()\n\t\t\t.call();\n\t\tthis.setState({ getAvailableEth: availableEth });\n\t\tconsole.log(this.state.getAvailableEthToInsure, \"avail eth:\");\n\n\t\t///----Event will automatically read data\n\t\t//this.eventListener(volcanoContract);\n\t}\n\n\thandleChangeUserInput(event) {\n\t\tlet value = event.target.value;\n\t\tlet name = event.target.dataset.name;\n\t\tthis.setState({ [name]: value });\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"App-background\">\n\t\t\t\t<div className=\"center-container-buy \">\n\t\t\t\t\t<h2 style={{ textAlign: \"center\" }}>Owner</h2>\n\n\t\t\t\t\t<form class=\"form-container-buy\">\n\t\t\t\t\t\t<div class=\"available-eth-container owner\">\n\t\t\t\t\t\t\t<h5\n\t\t\t\t\t\t\t\tstyle={{ textAlign: \"center\" }}\n\t\t\t\t\t\t\t\tclassName=\"v-txt\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tget: openETHtoInsure:\n\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t<h6\n\t\t\t\t\t\t\t\tstyle={{ textAlign: \"center\" }}\n\t\t\t\t\t\t\t\tclassName=\"v-txt\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{this.state.getAvailableEth}\n\t\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br />\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclass=\"btn btn-dark-fund-contract\"\n\t\t\t\t\t\t\tonClick={this.handleBuyPolicy}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tFund Contract\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclass=\"btn btn-dark-not-connected\"\n\t\t\t\t\t\t\t\tonClick={this.handleBuyPolicy}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tClaim 1 ETH not connected to a policy\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p>get: accountsInsured</p>\n\n\t\t\t\t\t\t<div className=\"container policyaddress\">\n\t\t\t\t\t\t\t<div class=\"label-input-container\">\n\t\t\t\t\t\t\t\t<label for=\"long\">POLICY ADDRESS</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"long\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Policy Address . . .\"\n\t\t\t\t\t\t\t\t\tonChange={this.handleChangeUserInput}\n\t\t\t\t\t\t\t\t\tvalue=\"\"\n\t\t\t\t\t\t\t\t\tdata-name=\"long\"\n\t\t\t\t\t\t\t\t></input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclass=\"btn btn-dark-policy-data\"\n\t\t\t\t\t\t\t\tonClick={this.handleBuyPolicy}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tGet Policy Data\n\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t<p>get: policies policyData</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclass=\"btn btn-dark-expired-policy\"\n\t\t\t\t\t\t\t\tonClick={this.handleBuyPolicy}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tClaim 1 ETH from expired policy\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclass=\"btn btn-dark-self-destruct\"\n\t\t\t\t\t\t\t\tonClick={this.handleBuyPolicy}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tClaim all ETH from a self-destruct attack\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Owner;\n"]},"metadata":{},"sourceType":"module"}